<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>Decades ‚Äì WMRN Archive</title>

  <link rel="stylesheet" href="/wmrn-archive-app/styles.css">
  <meta name="theme-color" content="#9b1c1c">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="WMRN Archive">

  <!-- GLOBAL APP LOGIC -->
  <script src="/wmrn-archive-app/app.js" defer></script>
</head>

<body>

<main>
  <h1>Browse by Decade</h1>

  <p>
    Explore the history of WMRN Radio by decade. Each section brings together
    recordings, photographs, documents, and memories from that era.
  </p>

  <!-- DECADES LIST -->
  <ul class="decade-list">
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">1940s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">1950s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">1960s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">1970s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">1980s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">1990s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">2000s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">2010s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
    <li>
      <a href="#" class="decade-row">
        <span class="decade-title">2020s</span>
        <span class="decade-arrow">‚Ä∫</span>
      </a>
    </li>
  </ul>
</main>

<!-- FLOATING BOTTOM NAV -->
<nav class="bottom-nav" id="bottomNav" aria-label="Primary navigation">
  <a href="/wmrn-archive-app/index.html">
    <span class="icon">üè†</span>
    <span>Home</span>
  </a>
  <a href="/wmrn-archive-app/decades.html">
    <span class="icon">üìÜ</span>
    <span>Decades</span>
  </a>
  <a href="/wmrn-archive-app/photos.html">
    <span class="icon">üì∑</span>
    <span>Photos</span>
  </a>
  <a href="/wmrn-archive-app/audio.html">
    <span class="icon">üéôÔ∏è</span>
    <span>Audio</span>
  </a>
  <a href="/wmrn-archive-app/submit.html">
    <span class="icon">‚úçÔ∏è</span>
    <span>Submit</span>
  </a>
  <a href="/wmrn-archive-app/settings.html">
    <span class="icon">‚öôÔ∏è</span>
    <span>Settings</span>
  </a>
</nav>

<!-- NAV BEHAVIOR: ACTIVE TAB + HAPTICS + SWIPE -->
<script>
  const navLinks = document.querySelectorAll(".bottom-nav a");
  const currentPath = window.location.pathname;

  navLinks.forEach(link => {
    if (currentPath.includes(link.getAttribute("href"))) {
      link.classList.add("active");
    }
  });

  function hapticTap() {
    if (navigator.vibrate && localStorage.getItem("haptics") !== "off") {
      navigator.vibrate(10);
    }
  }

  navLinks.forEach(link => {
    link.addEventListener("click", hapticTap);
  });

  const pages = [
    "/wmrn-archive-app/index.html",
    "/wmrn-archive-app/decades.html",
    "/wmrn-archive-app/photos.html",
    "/wmrn-archive-app/audio.html",
    "/wmrn-archive-app/submit.html",
    "/wmrn-archive-app/settings.html"
  ];

  let startX = 0;
  let startY = 0;
  let isSwiping = false;

  window.addEventListener("touchstart", e => {
    if (localStorage.getItem("swipeNav") === "off") return;
    const touch = e.touches[0];
    startX = touch.clientX;
    startY = touch.clientY;
    isSwiping = true;
  }, { passive: true });

  window.addEventListener("touchmove", e => {
    if (!isSwiping) return;
    const touch = e.touches[0];
    if (Math.abs(touch.clientY - startY) > Math.abs(touch.clientX - startX)) {
      isSwiping = false;
    }
  }, { passive: true });

  window.addEventListener("touchend", e => {
    if (!isSwiping) return;
    const diffX = e.changedTouches[0].clientX - startX;
    if (Math.abs(diffX) < 90) return;

    const index = pages.findIndex(p => currentPath.includes(p));
    if (diffX < 0 && index < pages.length - 1) location.href = pages[index + 1];
    if (diffX > 0 && index > 0) location.href = pages[index - 1];
  }, { passive: true });
</script>

</body>
</html>