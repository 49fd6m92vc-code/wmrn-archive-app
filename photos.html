<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Photos â€“ WMRN Archive</title>

  <link rel="stylesheet" href="/wmrn-archive-app/styles.css">
  <meta name="theme-color" content="#9b1c1c">
</head>

<body>

<main class="photos-page">

  <h1>Photo Archive</h1>

  <p class="page-intro">
    This section preserves photographs documenting the people, studios,
    equipment, and daily life of WMRN Radio.
  </p>

  <section id="photoGrid" class="photo-grid">
    <p class="muted">Loading photosâ€¦</p>
  </section>

</main>

<!-- âœ… LOAD FROM JSON INDEX (REQUIRED) -->
<script>
fetch("/wmrn-archive-app/data/photos.json")
  .then(res => {
    if (!res.ok) throw new Error("Failed to load photos.json");
    return res.json();
  })
  .then(items => {
    const grid = document.getElementById("photoGrid");
    grid.innerHTML = "";

    if (!items.length) {
      grid.innerHTML = "<p class='muted'>No photos available.</p>";
      return;
    }

    items.forEach(item => {
      const card = document.createElement("a");
      card.href = `/wmrn-archive-app/item.html?id=${encodeURIComponent(item.id)}`;
      card.className = "photo-card";
      card.setAttribute("aria-label", `View ${item.title}`);

      const img = document.createElement("img");
      img.src = `/wmrn-archive-app/Photos/${item.image}`;
      img.alt = item.title;
      img.loading = "lazy";

      const meta = document.createElement("p");
      meta.className = "photo-meta";
      meta.textContent = item.accession;

      const caption = document.createElement("p");
      caption.className = "photo-caption";
      caption.textContent = item.title;

      card.appendChild(img);
      card.appendChild(meta);
      card.appendChild(caption);
      grid.appendChild(card);
    });
  })
  .catch(err => {
    console.error(err);
    document.getElementById("photoGrid").innerHTML =
      "<p class='muted'>Unable to load photo archive.</p>";
  });
</script>

<!-- FLOATING BOTTOM NAV -->
<nav class="bottom-nav" id="bottomNav" aria-label="Primary navigation">
  <a href="/wmrn-archive-app/index.html"><span class="icon">ğŸ </span><span>Home</span></a>
  <a href="/wmrn-archive-app/decades.html"><span class="icon">ğŸ“†</span><span>Decades</span></a>
  <a href="/wmrn-archive-app/photos.html" class="active"><span class="icon">ğŸ“·</span><span>Photos</span></a>
  <a href="/wmrn-archive-app/audio.html"><span class="icon">ğŸ™ï¸</span><span>Audio</span></a>
  <a href="/wmrn-archive-app/submit.html"><span class="icon">âœï¸</span><span>Submit</span></a>
  <a href="/wmrn-archive-app/settings.html"><span class="icon">âš™ï¸</span><span>Settings</span></a>
</nav>

</body>
</html>