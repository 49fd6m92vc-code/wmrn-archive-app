<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>Photos â€“ WMRN Archive</title>

  <link rel="stylesheet" href="/wmrn-archive-app/styles.css">
  <meta name="theme-color" content="#9b1c1c">

  <!-- GLOBAL APP LOGIC -->
  <script src="/wmrn-archive-app/app.js" defer></script>
</head>

<body>

<main class="photos-page">

  <h1>Photo Archive</h1>

  <p class="page-intro">
    This section preserves photographs documenting the people, studios,
    equipment, events, and everyday life of WMRN Radio.
    Many of the images shown here were contributed by former WMRN DJ
    Paul Van House.
  </p>

  <!-- JS FILLS THIS -->
  <section id="photoGrid" class="photo-grid"></section>

</main>

<!-- LOAD PHOTO LIST -->
<script src="/wmrn-archive-app/photos.js"></script>

<!-- RENDER PHOTO GRID -->
<script>
  const grid = document.getElementById("photoGrid");

  photos.forEach(filename => {
    const itemId = filename.replace(".jpg", "");
    const cacheBuster = Date.now();

    const link = document.createElement("a");
    link.href =
      `/wmrn-archive-app/item.html?item=${encodeURIComponent(itemId)}&file=${encodeURIComponent(filename)}&v=${cacheBuster}`;
    link.className = "photo-card";
    link.setAttribute("aria-label", "View archival record");

    const img = document.createElement("img");
    img.src = `/wmrn-archive-app/Photos/${filename}`;
    img.alt = itemId.replace(/_/g, " ");
    img.loading = "lazy";

    const meta = document.createElement("p");
    meta.className = "photo-meta";
    meta.textContent = "Accession WMRN-2026-012";

    const caption = document.createElement("p");
    caption.className = "photo-caption";
    caption.textContent = itemId.replace(/_/g, " ");

    link.appendChild(img);
    link.appendChild(meta);
    link.appendChild(caption);

    grid.appendChild(link);
  });
</script>

<!-- FLOATING BOTTOM NAV -->
<nav class="bottom-nav" id="bottomNav" aria-label="Primary navigation">
  <a href="/wmrn-archive-app/index.html"><span class="icon">ğŸ </span><span>Home</span></a>
  <a href="/wmrn-archive-app/decades.html"><span class="icon">ğŸ“†</span><span>Decades</span></a>
  <a href="/wmrn-archive-app/photos.html"><span class="icon">ğŸ“·</span><span>Photos</span></a>
  <a href="/wmrn-archive-app/audio.html"><span class="icon">ğŸ™ï¸</span><span>Audio</span></a>
  <a href="/wmrn-archive-app/submit.html"><span class="icon">âœï¸</span><span>Submit</span></a>
  <a href="/wmrn-archive-app/settings.html"><span class="icon">âš™ï¸</span><span>Settings</span></a>
</nav>

<!-- NAV BEHAVIOR -->
<script>
  const navLinks = document.querySelectorAll(".bottom-nav a");
  const currentPath = window.location.pathname;

  navLinks.forEach(link => {
    if (currentPath.includes(link.getAttribute("href"))) {
      link.classList.add("active");
    }
  });

  function hapticTap() {
    if (navigator.vibrate && localStorage.getItem("haptics") !== "off") {
      navigator.vibrate(10);
    }
  }

  navLinks.forEach(link => {
    link.addEventListener("click", hapticTap);
  });
</script>

</body>
</html>